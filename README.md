# Интернет-магазин (Управление заказами)

## Описание

Это консольное приложение для управления заказами в интернет-магазине, разработанное в соответствии с техническим
заданием. Приложение позволяет:

- Добавлять товары в базу данных с указанием названия и цены.
- Создавать заказы, привязывая товары к клиенту.
- Автоматически рассчитывать общую стоимость заказа.
- Фильтровать заказы по имени клиента.
- Экспортировать данные в JSON для отчетности.

Приложение построено на Java + Hibernate с использованием PostgreSQL для хранения данных.
<hr>

## Требования

- Java: JDK 17+
- PostgreSQL: 14+
- Maven: 3.8+ (для сборки)

<hr>

## Установка и настройка

1. Клонирование репозитория.

Если проект находится в репозитории:

   ```
   git clone <url-репозитория>
   cd .\OnlineStore\
   ```

Или скопируйте проект в локальную папку.

2. Выполните SQL-скрипт для создания базы данных **(sql/init_db.sql)**:

Пример команды для выполнения скрипта с помощью psql

```psql -U ваш_логин -d postgres -f sql/init_db.sql```

2.1 Откройте файл src/main/resources/application.properties и укажите данные для подключения к базе данных:

````
hibernate.connection.url=jdbc:postgresql://localhost:5432/online_store
hibernate.connection.username=postgres
hibernate.connection.password=ваш_пароль
````

Замените ваш_пароль на ваш пароль PostgreSQL.

3. Запуск приложения

Сборка проекта:

* Откройте терминал в корне проекта и выполните:
  ```bash 
  mvn clean install
  ```

* Запуск приложения:
  Выполните следующую команду:

  ```bash
  mvn exec:java -Dexec.mainClass="com.example.onlinestore.Main"
  ````

Или запустите класс Main из вашей IDE.

## Пример JSON-файла с экспортированными заказами

```
[
  {
    "id": "90d74408-d297-42b3-81b9-a94f8cc3dbbb",
    "customerName": "Никита",
    "totalPrice": 70.82,
    "products": [
      {
        "id": "e37787a1-f44a-49b3-9e66-ad67066172b1",
        "name": "Кружка",
        "price": 50.67
      },
      {
        "id": "6e3f7c18-ac8a-4378-bdcd-3af2b0c75d38",
        "name": "Ручка",
        "price": 20.15
      }
    ]
  }
]
```


